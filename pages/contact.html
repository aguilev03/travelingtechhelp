<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact us | Traveling Tech Help</title>
    <link rel="stylesheet" href="../static/css/style.css" />
    <link rel="icon" href="../static/images/favicon.ico" type="image/x-icon" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
      .checkbox-container {
        display: flex;
        align-items: center;
        margin-top: 1em;
      }

      .checkbox-container input[type="checkbox"] {
        margin-right: 0.5em;
        transform: scale(1.2);
      }

      .zammad-form-error {
        color: red;
        font-size: 0.9rem;
        margin-top: 0.5em;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="site-header">
      <div class="container brand-row">
        <div class="brand">
          <img src="../static/images/logo.png" alt="Logo" />
          <div class="brand-text">
            <h1>Traveling Tech Pro</h1>
            <p>Local. Mobile. Reliable.</p>
          </div>
        </div>

        <input type="checkbox" id="menu-toggle" class="menu-toggle" />
        <label for="menu-toggle" class="hamburger">&#9776;</label>

        <nav class="nav-links">
          <a href="../index.html">Home</a>
          <a href="about.html">About</a>
          <a href="services.html">Services</a>
          <a href="contact.html">Contact</a>
          <a href="#">Portal</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <section class="card contact-card">
        <h2>Get in Touch</h2>
        <p>
          Whether you need tech support, have a question, or just want to say
          hi, I‚Äôm here to help.
        </p>

        <ul>
          <li>
            <strong>üìû Call or Text:</strong>
            <a href="tel:12106429313">(210) 642-9313</a>
          </li>
          <li>
            <strong>üìß Email:</strong>
            <a href="mailto:support@travelingtechpro.com"
              >Support@travelingtechpro.com</a
            >
          </li>
        </ul>

        <p>
          I typically respond within the same day. Feel free to reach out any
          time, even after hours.
        </p>

        <p>
          <em
            >Proudly serving San Antonio, New Braunfels, Schertz, and nearby
            areas.</em
          >
        </p>

        <!-- Zammad Form -->
        <div id="zammad-feedback-form">Form will be placed here</div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <p>
        üìû (210)624-9313 | ‚úâÔ∏è
        <a href="mailto:Support@TravelingTechPro.com"
          >Support@TravelingTechPro.com</a
        >
      </p>
      <p>¬© 2025 Traveling Tech Pro | Local. Mobile. Reliable.</p>
    </footer>

    <!-- Zammad Form Script -->
    <script id="zammad_form_script" src="https://crm.eaguil.com/assets/form/form.js"></script>

    <script>
      $(function () {
        $('#zammad-feedback-form').ZammadForm({
          messageTitle: 'Contact Us',
          messageSubmit: 'Submit',
          messageThankYou: "Thank you for your inquiry (#%s)! We'll contact you as soon as possible.",
          showTitle: true
        });

        // Wait until the form is rendered
        const observer = new MutationObserver(() => {
          const $form = $('#zammad-feedback-form form');

          if ($form.length && !$form.find('#not-a-robot').length) {
            // Add checkbox next to the submit button
            const $submitBtn = $form.find('button[type="submit"]');

            const checkboxHTML = `
              <div class="checkbox-container">
                <input type="checkbox" id="not-a-robot" />
                <label for="not-a-robot">I am not a robot</label>
              </div>
              <div class="zammad-form-error" id="human-error" style="display:none;">Please confirm you're not a robot.</div>
            `;

            $submitBtn.before(checkboxHTML);

            // Enforce checkbox on submit
            $form.on('submit', function (e) {
              if (!$('#not-a-robot').is(':checked')) {
                e.preventDefault();
                $('#human-error').show();
              } else {
                $('#human-error').hide();
              }
            });

            observer.disconnect(); // Stop watching once added
          }
        });

        observer.observe(document.getElementById('zammad-feedback-form'), {
          childList: true,
          subtree: true
        });
      });
    </script>
  </body>
</html>
